{"ast":null,"code":"import _slicedToArray from\"D:/Project/Spring/2022_Study_Project_InhaClub_merge/InhaClub/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Logo from\"./img/inha_logo.png\";import Biryong from\"./img/biryong.png\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Join(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setID=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userPw=_useState4[0],setPW=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userNickname=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userEmail=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),code=_useState10[0],setCode=_useState10[1];var mailchk=false;return/*#__PURE__*/_jsxs(\"div\",{className:\"outer mx-auto\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"biryong mt-5 col-lg-1 d-none d-sm-block\",src:Biryong}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-0 mt-5 col-lg-6 col-md-4\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo mb-2 col-lg-3 col-sm-5\",src:Logo}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox_1 my-2 col-lg-8\",placeholder:\"ID : \",onChange:function onChange(e){setID(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox_1 mb-2 col-lg-8\",type:\"password\",placeholder:\"Password : \",onChange:function onChange(e){setPW(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox_1 col-lg-8\",placeholder:\"\\uB2C9\\uB124\\uC784 : \",onChange:function onChange(e){setName(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputBox_1 col-lg-6\",placeholder:\"E-mail : \",onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"inputBox_1 mx-2\",style:{width:'15.4%',textAlign:'center'},onClick:function onClick(){EmailConfifm();},children:\"\\uC778\\uC99D\\uD558\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputBox_2 mb-2 col-lg-5\",placeholder:\"\\uC778\\uC99D\\uBC88\\uD638 : \",onChange:function onChange(e){setCode(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"inputBox_2 mx-2\",style:{width:'15.4%',textAlign:'center'},onClick:function onClick(){EmailConfifmChk();},children:\"\\uD655\\uC778\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"joinText mt-3\",onClick:function onClick(){Register();},children:\"\\uD68C\\uC6D0\\uAC00\\uC785 \\uD558\\uAE30\"})]})]});function EmailConfifm(){return axios.post(\"/api/auth/mailConfirm\",{userEmail:userEmail}).then(function(response){if(response.data)alert(\"인증 이메일을 전송했습니다.\");else alert(\"중복된 이메일입니다.\");});}function EmailConfifmChk(){axios.post(\"/api/auth/mailConfirmChk\",{code:code}).then(function(response){mailchk=response.data;if(mailchk)alert(\"인증되었습니다.\");else alert(\"인증 실패\");});}function Register(){if(mailchk){return axios.post(\"/api/auth\",{userId:userId,userPw:userPw,userNickname:userNickname,userEmail:userEmail}).then(function(){alert(\"회원가입 완료\");});}else return alert(\"Error!\");}}export default Join;","map":{"version":3,"names":["React","useState","Logo","Biryong","axios","Join","userId","setID","userPw","setPW","userNickname","setName","userEmail","setEmail","code","setCode","mailchk","e","target","value","width","textAlign","EmailConfifm","EmailConfifmChk","Register","post","then","response","data","alert"],"sources":["D:/Project/Spring/2022_Study_Project_InhaClub_merge/InhaClub/front/src/join.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Logo from \"./img/inha_logo.png\";\r\nimport Biryong from \"./img/biryong.png\";\r\nimport axios from \"axios\";\r\nfunction Join()\r\n{\r\n    const [userId, setID] = useState(\"\");\r\n    const [userPw, setPW] = useState(\"\");\r\n    const [userNickname, setName] = useState(\"\");\r\n    const [userEmail, setEmail] = useState(\"\");\r\n    const [code, setCode] = useState(\"\");\r\n\r\n    var mailchk : boolean = false;\r\n\r\n    return (\r\n        <div className=\"outer mx-auto\">\r\n            <img className=\"biryong mt-5 col-lg-1 d-none d-sm-block\" src={Biryong}></img>\r\n            <div className=\"container mx-0 mt-5 col-lg-6 col-md-4\">\r\n                <img className=\"logo mb-2 col-lg-3 col-sm-5\" src={Logo}></img>\r\n                <input className=\"inputBox_1 my-2 col-lg-8\" placeholder=\"ID : \" onChange={(e)=>{setID(e.target.value)}}></input>\r\n                <input className=\"inputBox_1 mb-2 col-lg-8\" type=\"password\" placeholder=\"Password : \" onChange={(e)=>{setPW(e.target.value)}}></input>\r\n                <input className=\"inputBox_1 col-lg-8\" placeholder=\"닉네임 : \" onChange={(e)=>{setName(e.target.value)}}></input>\r\n                <div className=\"mt-2\">\r\n                    <input className=\"inputBox_1 col-lg-6\" placeholder=\"E-mail : \" onChange={(e)=>{setEmail(e.target.value)}}></input>\r\n                    <button className=\"inputBox_1 mx-2\" style={{width:'15.4%', textAlign:'center'}} onClick={()=>{EmailConfifm()}}>인증하기</button>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                    <input className=\"inputBox_2 mb-2 col-lg-5\" placeholder=\"인증번호 : \" onChange={(e)=>{setCode(e.target.value)}}></input>\r\n                    <button className=\"inputBox_2 mx-2\" style={{width:'15.4%', textAlign:'center'}} onClick={()=>{EmailConfifmChk()}}>확인</button>\r\n                </div>\r\n                <div className=\"joinText mt-3\" onClick={()=>{Register()}}>회원가입 하기</div>\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n\r\n    function EmailConfifm()\r\n    {\r\n        return axios.post(\"/api/auth/mailConfirm\",\r\n        {userEmail}).then(function(response)\r\n        {\r\n            if(response.data) alert(\"인증 이메일을 전송했습니다.\");\r\n            else alert(\"중복된 이메일입니다.\");\r\n        });\r\n    }\r\n\r\n    function EmailConfifmChk() : void\r\n    {\r\n        axios.post(\"/api/auth/mailConfirmChk\",\r\n        {code}).then(function(response)\r\n        {\r\n            mailchk = response.data;\r\n            if (mailchk) alert(\"인증되었습니다.\");\r\n            else alert(\"인증 실패\");\r\n        });\r\n    }\r\n\r\n    function Register()\r\n    {\r\n        if (mailchk)\r\n        {\r\n            return axios.post(\"/api/auth\",\r\n            {\r\n                userId, userPw, userNickname, userEmail\r\n            }).then(function()\r\n            {\r\n                alert(\"회원가입 완료\");\r\n            })\r\n        }\r\n        else return alert(\"Error!\");\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Join;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}